@model PBL3.Models.ViewModel.RegisterStudentViewModel

@{
    ViewData["Title"] = "Quản Lý Sinh Viên";
}
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="~/css/admin/QLSV.css" asp-append-version="true" />
</head>
<body>
    <div class="dashboard">
        <div class="dashboard-container">
            <div class="dashboard-content">

                <main class="main-content">
                    <!-- User Creation Form -->
                    <section class="form-section">
                        <h2 class="section-title">Tạo tài khoản sinh viên</h2>
                        <form asp-action="RegisterStudent" method="post" id="userForm" class="user-form">
                            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                            <div class="form-grid">
                                <div class="form-column">
                                    <div class="form-group">
                                        <label asp-for="HoTen">Họ và tên</label>
                                        <input asp-for="HoTen" type="text" />
                                        <span asp-validation-for="HoTen" class="text-danger"></span>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="Email">Email</label>
                                        <input asp-for="Email" type="email" />
                                        <span asp-validation-for="Email" class="text-danger"></span>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="SDT">Số điện thoại</label>
                                        <input asp-for="SDT" type="tel" />
                                        <span asp-validation-for="SDT" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="form-column">
                                    <div class="form-group">
                                        <label asp-for="MSSV">MSSV</label>
                                        <input asp-for="MSSV" type="text" />
                                        <span asp-validation-for="MSSV" class="text-danger"></span>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="Lop">Lớp</label>
                                        <input asp-for="Lop" type="text" />
                                        <span asp-validation-for="Lop" class="text-danger"></span>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="Password">Mật khẩu</label>
                                        <input asp-for="Password" type="password" />
                                        <span asp-validation-for="Password" class="text-danger"></span>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="ConfirmPassword">Xác Nhận Mật khẩu</label>
                                        <input asp-for="ConfirmPassword" type="password" />
                                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn-primary">
                                    Tạo tài khoản
                                </button>
                            </div>
                        </form>
                    </section>

                    <!-- Search Section -->
                    <section class="search-section">
                        <h2 class="section-title">Tìm kiếm sinh viên</h2>
                        <form method="get" class="search-form">
                            <input type="text" name="searchName" placeholder="Tên" class="search-input" />
                            <input type="text" name="searchClass" placeholder="Lớp" class="search-input" />
                            <input type="text" name="searchMSSV" placeholder="MSSV" class="search-input" />
                            <input type="text" name="searchPhone" placeholder="Số điện thoại" class="search-input" />
                            <div class="search-actions">
                                <button type="submit" class="btn-primary search-btn">
                                    <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/19e0d15c42d628e2727522e0a4e7e32021b5dcb4?placeholderIfAbsent=true&apiKey=a94898cdbac34dc4b261ff4175f2b5c2" alt="Search Icon" class="search-icon" />
                                    <span>Tìm kiếm</span>
                                </button>
                            </div>
                        </form>
                    </section>

                    <!-- Results Section -->
                    <section class="results-section">
                        <div class="results-header">
                            <h2 class="section-title">Kết quả tìm kiếm</h2>
                            <div class="display-options">
                                <label>Hiển thị:</label>
                                <select class="display-select">
                                    <option>10</option>
                                    <option>25</option>
                                    <option>50</option>
                                    <option>Tất cả</option>
                                </select>
                            </div>
                        </div>

                        <div class="table-container">
                            <table class="results-table">
                                <thead>
                                    <tr>
                                        <th>Họ và tên</th>
                                        <th>MSSV</th>
                                        <th>Lớp</th>
                                        <th>Email</th>
                                        <th>Số điện thoại</th>
                                        <th>Đăng ký gửi xe</th>
                                        <th>Thao tác</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var student in Model.Students)
                                    {
                                        <tr>
                                            <td>@student.HoTen</td>
                                            <td>@student.MSSV</td>
                                            <td>@student.Lop</td>
                                            <td>@student.Email</td>
                                            <td>@student.PhoneNumber</td>
                                            <td>@student.DKyVe</td>
                                            <td>
                                                <a asp-action="EditStudent" asp-route-id="@student.MSSV" class="btn-edit">Sửa</a>
                                                <a asp-action="DeleteStudent" asp-route-id="@student.MSSV" class="btn-delete">Xóa</a>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>

                        <div class="pagination-section">
                            <div class="results-count">
                                Hiển thị @Model.PageInfo.StartRecord - @Model.PageInfo.EndRecord trong tổng số @Model.PageInfo.TotalItems kết quả
                            </div>
                            <div class="pagination">
                                @if (Model.PageInfo.CurrentPage > 1)
                                {
                                    <a asp-action="QLSV" asp-route-page="@(Model.PageInfo.CurrentPage - 1)" class="page-btn prev">
                                        <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/adafdf7ee858b74093a15bea5ae8cf14cc376519?placeholderIfAbsent=true&apiKey=a94898cdbac34dc4b261ff4175f2b5c2" alt="Previous" />
                                    </a>
                                }

                                @for (int i = 1; i <= Model.PageInfo.TotalPages; i++)
                                {
                                    <a asp-action="QLSV" asp-route-page="@i" class="page-btn @(i == Model.PageInfo.CurrentPage ? "active" : "")">@i</a>
                                }

                                @if (Model.PageInfo.CurrentPage < Model.PageInfo.TotalPages)
                                {
                                    <a asp-action="QLSV" asp-route-page="@(Model.PageInfo.CurrentPage + 1)" class="page-btn next">
                                        <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/8b91c7be0c13d93385ec3d0f3f6a510befcbfdb4?placeholderIfAbsent=true&apiKey=a94898cdbac34dc4b261ff4175f2b5c2" alt="Next" />
                                    </a>
                                }
                            </div>
                        </div>
                    </section>
                </main>
            </div>
        </div>
    </div>
</body>
</html>
